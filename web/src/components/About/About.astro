---
import aboutVideo from "../../assets/footer/footer.mp4";
---

<div class="sticky-area-1" id="sticky-container-1">
  <div class="sticky-container" id="sticky-el">
    <div class="text-wrapper">
      <h4 id="sys">- "See you soon"</h4>
      <h1 id="sys-bio">
        An expression of farewell, with the intention of meeting once again.
      </h1>
    </div>
  </div>
</div>
<div class="sticky-area-2" id="sticky-container-2">
  <div class="sticky-container" id="sticky-el">
    <div class="video-container" id="video-container">
      <video
        class="video-media"
        preload="metadata"
        loading="lazy"
        autoplay
        playsinline
        muted
        loop
      >
        <source src={aboutVideo} type="video/mp4" />
      </video>
    </div>
  </div>
  <div class="bio-wrapper">
    <p>
      Expanding the spectrum from graphic design, branding, scenography and art
      direction, to packaging and type development, the studio’s work embraces
      holistic examination from research and concept to creation, irrespective
      of its digital or analog nature.
    </p>
    <br />
    <br />
    <p>
      Expanding the spectrum from graphic design, branding, scenography and art
      direction, to packaging and type development, the studio’s work embraces
      holistic examination from research and concept to creation, irrespective
      of its digital or analog nature.
    </p>
  </div>
</div>

<style lang="scss">
  .sticky-area-1 {
    height: 400vh;
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }
  .sticky-area-2 {
    height: 500vh;
    overflow-x: hidden;
    width: 100%;
    position: relative;
    margin-bottom: 5rem;
  }
  .sticky-container {
    height: 100vh;
    margin: 0 auto;
    display: grid;
    place-items: center;
    position: sticky;
    top: 0;
  }
  .text-wrapper {
    display: grid;
    width: 60%;
    h4 {
      font-family: "Bradford-Light-Italic";
    }
  }

  #sys {
    opacity: 0;
  }
  #sys-bio {
    opacity: 0;
  }

  .video-container {
    max-height: 85vh;
    object-fit: cover;
    overflow: hidden;
    clip-path: inset(20% 20% 20% 20% round 14px);
    border-radius: 40px;
    filter: brightness(1);
  }

  .bio-wrapper {
    margin-top: 200vh;
    p {
      color: var(--beige-300);
      position: relative;
      z-index: 10;
      max-width: 650px;
      margin: 0 auto;
    }
  }
</style>

<script>
  import { timeline, scroll } from "motion";

  const scrollTrack1 = document.getElementById("sticky-container-1");
  const scrollTrack2 = document.getElementById("sticky-container-2");

  const sys = document.getElementById("sys");
  const sysBio = document.getElementById("sys-bio");

  const sequence1 = [
    [
      sys,
      {
        opacity: 1,
      },
      {
        at: "<",
      },
    ],
    [
      sysBio,
      {
        opacity: 1,
      },
    ],
  ];

  scroll(timeline(sequence1), {
    target: scrollTrack1,
  });

  const clipVideo = document.getElementById("video-container");
  const sequence2 = [
    [
      clipVideo,
      {
        clipPath: [
          null,
          "inset(0% 0% 0% 0% round 8px)",
          "inset(0% 0% 0% 0% round 8px)",
        ],
        borderRadius: 0,
        filter: [null, "brightness(.3)", "brightness(.3)", "brightness(1)"],
      },
      {
        at: "<",
      },
    ],
  ];

  scroll(timeline(sequence2), {
    target: scrollTrack2,
  });
</script>
